import { zzfx, zzfxM, zzfxP, zzfxX } from "./core/sound/zzfx";

const DEATH_DROP = [[[.3,0,29,,.07,.2,3,6,,,,.2],[.1,0,230,,.01,.12,3,1.5,,.4,,5.32,.01,,,,,5,.01],[.3,0,740,,,.15,2,.2,-.1,-.15,9,.02,,.1,.12,,.06],[.2,0,196,,,.74,,0,,.3,,,.29,,,,,.34,.14],[1.3,0,43,,,.25,,,,,,,,2],[.1,0,22,,.07,.07,4,0,,,.5,.01],[.1,0,22,.04,.08,,,0,,,,,,.7,,3,,,.17],[.1,0,2100,,,.2,3,0,,,-400,,,3.2,,,.15],[.1,0,245,.19,.09,1.19,1,0,,1.3,,,.08,,1.5,,.08,0,.17]],[[[,-.1,8,,,,,,8,,20,,8,,8,,,,,,8,,,,8,,20,,,,8,,,,11,,,,,,11,,23,,11,,11,,,,20,,11,,,,11,,23,,,,11,,,,],[1,,11,,,,6,,,,8,,,,11,,,,10,,,,6,,,,13,,,,10,,,,15,,,,13,,,,6,,,,8,,,,13,,,,11,,,,15,,,,11,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,6,,,,,,6,,18,,,,6,,,,,,6,,,,6,,18,,,,6,,,,4,,,,,,4,,16,,,,4,,,,,,6,,6,,,,18,,,,6,,,,],[1,,18,,,,13,,,,10,,,,13,,,,11,,,,13,,,,10,,,,13,,,,8,,,,10,,,,11,,,,13,,,,10,,,,,,,,13,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,8,,,,,,8,,20,,8,,8,,,,,,8,,,,8,,20,,,,8,,,,11,,,,,,11,,23,,11,,11,,,,20,,11,,,,11,,23,,,,11,,,,],[1,,11,,,,6,,,,8,,,,11,,,,10,,,,6,,,,13,,,,10,,,,15,,,,13,,,,6,,,,8,,,,13,,,,11,,,,15,,,,11,,,,],[2,,15,,14,,15,,14,,,,,,,,,,,,,,,,,,,,,,,,,,19,,17,,15,,10,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,6,,,,,,6,,18,,,,6,,,,,,6,,,,6,,18,,,,6,,,,4,,,,,,4,,16,,,,4,,,,,,6,,6,,,,18,,,,6,,,,],[1,,18,,,,13,,,,10,,,,13,,,,11,,,,13,,,,10,,,,13,,,,8,,,,10,,,,11,,,,13,,,,10,,,,,,,,13,,,,,,,,],[2,,17,,15,,14,,10,,,,,,,,,,,,,,,,,,,,,,,,,,8,,,,10,,,,12,,,,15,,,,10,,,,14,,14,,,,,,,,,,]],[[,-.1,8,,,,,,8,,20,,8,,8,,,,,,8,,,,8,,20,,,,8,,,,11,,,,,,11,,23,,11,,11,,,,20,,11,,,,11,,23,,,,11,,,,],[1,,11,,,,6,,,,8,,,,11,,,,10,,,,6,,,,13,,,,10,,,,15,,,,13,,,,6,,,,8,,,,13,,,,11,,,,15,,,,11,,,,],[1,,15,,,,,,,,,,,,,,,,,,,,11,,13,,15,,13,,11,,6,,11,,,,,,,,,,,,,,,,,,,,11,,13,,11,,8,,8,,,,]],[[,-.1,6,,,,,,6,,18,,,,6,,,,,,6,,,,6,,18,,,,6,,,,4,,,,,,4,,16,,,,4,,,,,,6,,6,,,,18,,,,6,,,,],[1,-.2,18,,,,13,,,,10,,,,13,,,,11,,,,13,,,,10,,,,13,,,,8,,,,10,,,,11,,,,13,,,,10,,,,,,,,13,,,,,,,,],[1,,1,,,,,,13,,,,,,,,,,,,,,,,,,,,,,,,,,11,,,,,,,,13,,,,,,,,13,,,,,,,,18,,,,,,,,]],[[,-.1,8,,,,,,8,,20,,8,,8,,,,,,8,,,,8,,20,,,,8,,,,11,,,,,,11,,23,,11,,11,,,,20,,11,,,,11,,23,,,,11,,,,],[1,,11,,,,6,,,,8,,,,11,,,,10,,,,6,,,,13,,,,10,,,,15,,,,13,,,,6,,,,8,,,,13,,,,11,,,,15,,,,11,,,,],[1,,15,,,,,,,,,,,,,,,,,,,,11,,13,,15,,13,,11,,6,,11,,,,,,,,,,,,,,,,,,,,11,,13,,11,,8,,8,,,,],[2,,15,,14,,15,,14,,,,,,,,,,,,,,,,,,,,,,,,,,19,,17,,15,,10,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,6,,,,,,6,,18,,,,6,,,,,,6,,,,6,,18,,,,6,,,,4,,,,,,4,,16,,,,4,,,,,,6,,6,,,,18,,,,6,,,,],[1,-.2,18,,,,13,,,,10,,,,13,,,,11,,,,13,,,,10,,,,13,,,,8,,,,10,,,,11,,,,13,,,,10,,,,,,,,13,,,,,,,,],[1,,1,,,,,,13,,,,,,,,,,,,,,,,,,,,,,,,,,11,,,,,,,,,,,,,,,,13,,,,,,,,18,,,,,,,,],[2,,17,,15,,14,,10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15,,,,10,,,,14,,14,,,,,,,,,,]],[[,-.1,8,,,,,,8,,20,,8,,8,,,,,,8,,,,8,,20,,,,8,,,,11,,,,,,11,,23,,11,,11,,,,20,,11,,,,11,,23,,,,11,,,,],[1,,20,,,,22,,,,20,,,,18,,,,20,,,,,,,,15,,,,,,,,13,,,,11,,,,10,,,,6,,,,,,,,,,,,,,,,,,,,],[2,,15,17,15,17,15,,,,,,,,,,,,,,,,,,,,,,,,,,,,15,17,15,17,15,17,15,,,,,,,,,,,,,,,,,,,,,,,,,,],[8,,26,26,26,26,26,,,,,,,25,25,25,,,,,,,29,29,29,,,,,,,24,24,24,24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,4,,,,,,4,,16,,,,4,,,,,,4,,,,4,,16,,,,4,,,,6,,,,,,6,,18,,,,6,,,,,,6,,6,,,,18,,,,6,,,,],[1,,16,,,,18,,,,16,,,,11,,,,,,,,,,,,,,,,,,,,18,,,,13,,,,11,,,,10,,,,,,,,,,,,,,,,,,,,],[8,,31,31,31,31,31,,,,,,,30,30,30,,,,,,,34,34,34,,,,,,,29,29,29,29,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,8,,,,,,8,,20,,8,,8,,,,,,8,,,,8,,20,,,,8,,,,11,,,,,,11,,23,,11,,11,,,,20,,11,,,,11,,23,,,,11,,,,],[1,,20,,,,22,,,,20,,,,18,,,,20,,,,,,,,15,,,,,,,,13,,,,11,,,,10,,,,6,,,,,,,,,,,,,,,,,,,,],[2,,15,,14,,15,,14,,,,,,,,,,,,,,,,,,,,,,,,,,19,,17,,15,,10,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,4,,,,,,4,,16,,,,4,,,,,,4,,,,4,,16,,,,4,,,,6,,,,,,6,,18,,,,6,,,,,,6,,6,,,,18,,,,6,,,,],[1,,16,,,,18,,,,16,,,,11,,,,,,,,,,,,,,,,,,,,10,,,,11,,,,12,,,,13,,,,10,,11,,12,,13,,10,,11,,12,,13,,],[2,,17,,15,,14,,10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,,6,,6,,6,,6,,6,,,,,,,,6,,6,,6,,6,,6,,,,,,,,6,,6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,,10,,11,,12,,13,,10,,11,,12,,13,,10,,11,,12,,13,,10,,11,,12,,10,,11,,12,,20,,,,19,,,,18,,,,17,,,,20,,,,19,,,,18,,,,],[3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16,,,,15,,,,14,,,,13,,,,16,,,,15,,,,14,,,,],[4,-.1,6,,6,,6,,6,,6,,,,,,,,6,,6,,6,,6,,6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[5,,29,,29,,,,,,,,,,,,,,29,,29,,,,,,,,,,,,,,29,,29,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[1,,10,,11,,12,,13,,10,,11,,12,,13,,10,,11,,12,,13,,10,,11,,12,,10,,11,,12,,20,,,,19,,,,18,,,,17,,,,20,,,,19,,,,18,,,,],[3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16,,,,15,,,,14,,,,13,,,,16,,,,15,,,,14,,,,],[4,-.1,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,],[5,,29,,29,,,,,,,,,,,,,,29,,29,,,,,,,,,,,,,,29,,29,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[6,,29,,29,,29,,,,,,,,,,,,29,,29,,29,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,8,,,,,,8,,20,,8,,8,,,,,,8,,,,8,,20,,,,8,,,,11,,,,,,11,,23,,11,,11,,,,23,,11,,,,11,,23,,,,11,,,,],[1,,11,,,,,,10,,,,,,3,,,,,,11,,,,,,10,,,,3,,,,11,,,,,,10,,,,,,1,,,,,,11,,,,,,10,,,,1,,,,],[3,,30,,,,,,,,,,,,,,,,30,,,,28,,,,26,,,,28,,,,26,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[3,,26,,,,,,,,,,,,,,,,26,,,,25,,,,23,,,,25,,,,18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,4,,,,,,4,,16,,4,,4,,,,,,4,,,,4,,16,,,,4,,,,6,,,,,,6,,18,,6,,6,,,,18,,6,,,,6,,18,,,,6,,,,],[1,,11,,,,,,10,,,,,,4,,,,,,11,,,,,,10,,,,4,,,,11,,,,,,10,,,,,,6,,,,,,11,,,,,,10,,,,6,,,,],[3,,26,,,,,,,,,,,,,,,,,,,,,,,,26,,,,,,,,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[3,,23,,,,,,,,,,,,,,,,,,,,,,,,23,,,,,,,,25,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,4,,,,,,4,,16,,4,,4,,,,,,4,,,,4,,16,,,,4,,,,6,,,,,,6,,18,,6,,6,,,,18,,6,,,,6,,18,,,,6,,,,],[1,,11,10,11,10,11,10,,,4,,,,11,,,,10,,,,4,,,,11,,,,4,,,,11,10,11,10,11,10,,,6,,,,11,,,,10,,,,6,,,,11,,,,6,,,,],[3,,26,,,,,,,,,,,,,,,,,,,,,,,,26,,,,,,,,28,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[3,,23,,,,,,,,,,,,,,,,,,,,,,,,23,,,,,,,,25,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,8,,,,,,8,,20,,8,,8,,,,,,8,,,,8,,20,,,,8,,,,11,,,,,,11,,23,,11,,11,,,,23,,11,,,,11,,23,,,,11,,,,],[1,,11,10,11,10,11,10,,,3,,,,11,,,,10,,,,3,,,,10,,,,3,,,,11,10,11,10,11,10,,,1,,,,11,,,,10,,,,1,,,,11,,,,1,,,,],[3,,30,,,,,,,,,,,,,,,,30,,,,28,,,,26,,,,28,,,,26,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[3,,26,,,,,,,,,,,,,,,,26,,,,25,,,,23,,,,25,,,,18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[7,,,,6,,6,,,,6,,,,6,,,,6,,,,6,,,,6,,,,6,,,,6,,,,6,,,,6,,,,6,,,,6,,,,6,,,,6,,,,6,,,,],[1,,10,,11,,12,,13,,10,,11,,12,,13,,10,,11,,12,,13,,10,,11,,12,,10,,11,,12,,20,,,,19,,,,18,,,,17,,,,20,,,,19,,,,18,,,,],[3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,16,,,,15,,,,14,,,,13,,,,16,,,,15,,,,14,,,,],[4,-.1,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,6,,],[5,,29,,29,,,,,,,,,,,,,,29,,29,,,,,,,,,,,,,,29,,29,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[6,,,29,,29,,29,,29,,,,,,,,,,29,,29,,29,,29,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[2,,15,,16,,17,,18,,15,,16,,17,,18,,15,,16,,17,,18,,15,,16,,17,,18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-.1,8,,,,,,8,,20,,8,,8,,,,,,8,,,,8,,20,,,,8,,,,11,,,,,,11,,23,,11,,11,,,,20,,11,,,,11,,23,,,,11,,,,],[1,,20,,,,22,,,,20,,,,18,,,,20,,,,,,,,15,,,,,,,,13,,,,11,,,,10,,,,6,,,,,,,,,,,,,,,,,,,,],[2,,15,17,15,17,15,,,,,,,,,,,,,,,,,,,,,,,,,,,,15,17,15,17,15,17,15,,,,,,,,,,,,,,,,,,,,,,,,,,],[8,,26,26,26,26,26,26,,,,,,25,25,25,,,,,,,29,29,29,29,,,,,,24,24,24,24,24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,,16,,,,16,,,,28,,,,16,,,,15,,,,16,,,,28,,,,16,,,,18,,,,18,,,,30,,,,18,,,,13,,,,18,,,,30,,,,18,,,,]]],[0,1,2,3,4,5,6,7,8,9,10,11,12,18,15,14,16,17,12],210,{"title":"Death Drop","instruments":["Big B","Piano","Flute","Piano 2","Bass Drum ","Korg Bass","Korg Bass 2","Hihat Open","Korg Filter"],"patterns":["Pattern 0","Pattern 1","Pattern 2","Pattern 3","Pattern 4","Pattern 5","Pattern 6","Pattern 7","Pattern 8","Pattern 9","Pattern 10","Pattern 11","Pattern 12","Pattern 13","Pattern 14","Pattern 15","Pattern 16","Pattern 17","Pattern 18","Pattern 19","Pattern 20"]}];

const playCoinSound = () => zzfx(...[, , 1890, 0.01, 0.02, 0.19, , 0.45, , , , , 0.02, , , , , 0.9, 0.01]),
  playJumpSound = () => zzfx(...[1.01, , 484, , 0.03, 0.06, 1, 1.79, 18, -2.5, , , , 0.3, , , , 0.98, 0.01]),
  playMainTheme = async () => {
    const buffer = await renderSong(DEATH_DROP),
    node = zzfxP(...buffer);
    node.loop = true;
    zzfxX.resume();
  },
  renderSong = (song: any): Promise<any[][]> => {
    return new Promise((resolve) => {
      setTimeout(() => resolve(zzfxM(...song)), 50);
    });
  };

export { playCoinSound, playJumpSound, playMainTheme };

